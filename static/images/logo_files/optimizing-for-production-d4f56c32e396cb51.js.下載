(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3261],{52863:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/docs/optimizing-for-production",function(){return t(29852)}])},29852:function(e,n,t){"use strict";t.r(n);var s=t(85893),a=t(11151),r=t(72788),l=t(36336);t(50224),t(30196),t(64637),t(2642);let o=r.L,i=l.X_;function c(e){let n=Object.assign({p:"p",em:"em",a:"a",code:"code",pre:"pre"},(0,a.ah)(),e.components),{Editor:t}=n;return t||function(e,n){throw Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Editor",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.p,{children:"Tailwind CSS 非常注重性能，旨在通过仅生成你在项目中实际使用的 CSS 来生成尽可能小的 CSS 文件。"}),"\n",(0,s.jsxs)(n.p,{children:["\xa5Tailwind CSS is incredibly performance focused and aims to produce the smallest CSS file possible by only generating the CSS you are ",(0,s.jsx)(n.em,{children:"actually using"})," in your project."]}),"\n",(0,s.jsxs)(n.p,{children:["结合缩小和网络压缩，这通常会导致 CSS 文件小于 10kB，即使对于大型项目也是如此。例如，Netflix 为 ",(0,s.jsx)(n.a,{href:"https://top10.netflix.com/",children:"Netflix 前 10 名"})," 使用 Tailwind，整个网站仅通过网络传递 6.5kB 的 CSS。"]}),"\n",(0,s.jsxs)(n.p,{children:["\xa5Combined with minification and network compression, this usually leads to CSS files that are less than 10kB, even for large projects. For example, Netflix uses Tailwind for ",(0,s.jsx)(n.a,{href:"https://top10.netflix.com/",children:"Netflix Top 10"})," and the entire website delivers only 6.5kB of CSS over the network."]}),"\n",(0,s.jsx)(n.p,{children:"有了这么小的 CSS 文件，你不必担心复杂的解决方案，例如为每个页面拆分 CSS 代码，而是可以只发送一个小的 CSS 文件，下载一次并缓存，直到你重新部署你的站点。"}),"\n",(0,s.jsx)(n.p,{children:"\xa5With CSS files this small, you don’t have to worry about complex solutions like code-splitting your CSS for each page, and can instead just ship a single small CSS file that’s downloaded once and cached until you redeploy your site."}),"\n",(0,s.jsxs)(n.p,{children:["对于尽可能小的生产构建，我们建议使用 ",(0,s.jsx)(n.a,{href:"https://cssnano.github.io/cssnano",children:"cssnano"})," 等工具缩小 CSS，并使用 ",(0,s.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/Brotli",children:"Brotli"})," 压缩 CSS。"]}),"\n",(0,s.jsxs)(n.p,{children:["\xa5For the smallest possible production build, we recommend minifying your CSS with a tool like ",(0,s.jsx)(n.a,{href:"https://cssnano.github.io/cssnano",children:"cssnano"}),", and compressing your CSS with ",(0,s.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/Brotli",children:"Brotli"}),"."]}),"\n",(0,s.jsxs)(n.p,{children:["如果你使用的是 Tailwind CLI，则可以通过添加 ",(0,s.jsx)(n.code,{children:"--minify"})," 标志来缩小 CSS："]}),"\n",(0,s.jsxs)(n.p,{children:["\xa5If you’re using Tailwind CLI, you can minify your CSS by adding the ",(0,s.jsx)(n.code,{children:"--minify"})," flag:"]}),"\n",(0,s.jsx)(n.pre,{className:"language-shell",dangerouslySetInnerHTML:{__html:'<code class="language-shell">npx tailwindcss <span class="token parameter variable">-o</span> build.css <span class="token parameter variable">--minify</span></code>'}}),"\n",(0,s.jsxs)(n.p,{children:["如果你已将 Tailwind 安装为 PostCSS 插件，请将 ",(0,s.jsx)(n.code,{children:"cssnano"})," 添加到插件列表的末尾："]}),"\n",(0,s.jsxs)(n.p,{children:["\xa5If you’ve installed Tailwind as a PostCSS plugin, add ",(0,s.jsx)(n.code,{children:"cssnano"})," to the end of your plugin list:"]}),"\n",(0,s.jsx)(t,{filename:"postcss.config.js",code:'<pre class="language-js"><code class="language-js">module<span class="token punctuation">.</span><span class="token property-access">exports</span> <span class="token operator">=</span> <span class="token punctuation">{</span>\n  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n    <span class="token literal-property property">tailwindcss</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>\n    <span class="token literal-property property">autoprefixer</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>\n    <span class="token spread operator">...</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span><span class="token property-access">env</span><span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">===</span> <span class="token string">\'production\'</span> <span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token literal-property property">cssnano</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token punctuation">}</span> <span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span></code></pre>'}),"\n",(0,s.jsx)(n.p,{children:"如果你使用的是框架，请查看文档，因为这通常会在生产中自动为你处理，你甚至不需要对其进行配置。"}),"\n",(0,s.jsx)(n.p,{children:"\xa5If you’re using a framework, check the documentation as this is often handled for you in production automatically and you don’t even need to configure it."})]})}function u(e={}){return(0,s.jsx)(i,Object.assign({},e,{children:(0,s.jsx)(c,e)}))}n.default=u,u.layoutProps={Layout:o,meta:{title:"生产环境优化",description:"从 Tailwind CSS 项目中获得最大性能。"},slug:"optimizing-for-production",tableOfContents:[]}},64637:function(e,n,t){"use strict";t.d(n,{E:function(){return d}});var s=t(85893),a=t(67294),r=t(49808),l=t(86010),o=t(4493);function i({className:e}){return(0,s.jsx)("div",{className:(0,l.Z)("pointer-events-none absolute inset-0",e)})}function c({children:e,selectedIndex:n,myIndex:t,marker:a}){let o=n===t,c={leading:o?null:n===t-1?"capped":"normal",trailing:o?null:n===t+1?"capped":"normal"};return(0,s.jsxs)(r.O,{className:(0,l.Z)("flex items-center relative z-10 overflow-hidden px-4 py-1 [&:not(:focus-visible)]:focus:outline-none",o?"text-sky-300":"text-slate-400"),children:[(0,s.jsx)("span",{className:"z-10",children:e}),"close"===a&&(0,s.jsx)("svg",{viewBox:"0 0 4 4",className:"ml-2.5 flex-none w-1 h-1 text-slate-500 overflow-visible",children:(0,s.jsx)("path",{d:"M-1 -1L5 5M5 -1L-1 5",fill:"none",stroke:"currentColor",strokeLinecap:"round"})}),"modified"===a&&(0,s.jsx)("div",{className:"ml-2.5 flex-none w-1 h-1 rounded-full bg-current"}),!o&&(0,s.jsx)(i,{className:(0,l.Z)("bg-slate-700/50 border-y border-slate-500/30","capped"===c.leading&&"border-l rounded-tl","capped"===c.trailing&&"border-r rounded-tr")}),"normal"===c.trailing&&(0,s.jsx)(i,{className:"inset-y-px border-r border-slate-200/5 z-20"}),o&&(0,s.jsx)(i,{className:"border-b border-b-sky-300"})]})}let u={plain:({children:e})=>(0,s.jsx)("div",{className:"not-prose bg-slate-800 rounded-xl shadow-md",children:e}),framed:({children:e,...n})=>(0,s.jsx)(o.RQ,{...n,children:(0,s.jsx)("div",{className:"not-prose bg-slate-800 rounded-tl-xl shadow-md",children:e})})};function d({children:e,style:n="plain",actions:t,...o}){let[i,d]=(0,a.useState)(0),p=u[n];return(0,s.jsx)(p,{...o,children:(0,s.jsxs)(r.O.Group,{as:"div",onChange:d,children:[(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsx)(r.O.List,{className:"flex text-slate-400 text-xs leading-6 overflow-hidden rounded-tl-xl pt-2",children:e.map((e,n)=>(0,s.jsx)(c,{myIndex:n,selectedIndex:i,children:e.props.filename},e.props.filename))}),(0,s.jsx)("div",{className:"flex-auto flex pt-2 rounded-tr-xl overflow-hidden",children:(0,s.jsx)("div",{className:(0,l.Z)("flex-auto flex justify-end bg-slate-700/50 border-y border-slate-500/30 pr-4",i===e.length-1?"rounded-tl border-l":"")})}),t?(0,s.jsx)("div",{className:"absolute top-2 right-4 h-8 flex",children:t({selectedIndex:i})}):null]}),(0,s.jsx)(r.O.Panels,{className:"flex overflow-auto",children:e.map(e=>(0,s.jsx)(r.O.Panel,{className:"flex-none min-w-full p-5 text-sm leading-6 text-slate-50 ligatures-none",...e.props.code?{dangerouslySetInnerHTML:{__html:e.props.code}}:{children:e.props.children}},e.props.filename))})]})})}},30196:function(e,n,t){"use strict";t.d(n,{$o:function(){return l},Vw:function(){return a},qm:function(){return r}});var s=t(85893);function a({children:e}){return(0,s.jsxs)("div",{className:"flex items-start my-6 space-x-4",children:[(0,s.jsxs)("div",{className:"relative mt-1 w-4 h-4 rounded-full bg-cyan-500 text-white flex items-center justify-center ring-2 ring-cyan-500 dark:bg-sky-500 dark:ring-sky-500",children:[(0,s.jsx)("svg",{width:"6",height:"4.5",className:"overflow-visible","aria-hidden":"true",children:(0,s.jsx)("path",{d:"M6 0L2 4.5L0 2.5",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,s.jsx)("div",{className:"absolute top-full mt-1 left-[0.46875rem] w-px h-[1.375rem] bg-cyan-500/30 rounded-full dark:bg-sky-400/30"})]}),(0,s.jsx)("p",{className:"m-0 flex-1 text-base font-semibold text-slate-900 dark:text-slate-200",children:e})]})}function r({children:e}){return(0,s.jsxs)("div",{className:"flex items-start my-6 space-x-4",children:[(0,s.jsxs)("div",{className:"relative mt-1 w-4 h-4 rounded-full bg-rose-400 text-white flex items-center justify-center ring-2 ring-rose-400 dark:bg-red-400 dark:ring-red-400",children:[(0,s.jsx)("svg",{width:"6",height:"6",className:"overflow-visible","aria-hidden":"true",children:(0,s.jsx)("path",{d:"M0 0L6 6M6 0L0 6",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,s.jsx)("div",{className:"absolute top-full mt-1 left-[0.46875rem] w-px h-[1.375rem] bg-rose-200 rounded-full dark:bg-red-200/25"})]}),(0,s.jsx)("p",{className:"m-0 flex-1 text-base font-semibold text-slate-900 dark:text-slate-200",children:e})]})}function l({children:e}){return(0,s.jsxs)("div",{className:"mt-6 -mb-1 flex space-x-2",children:[(0,s.jsx)("svg",{className:"flex-none w-5 h-5 text-slate-400 dark:text-slate-600",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),(0,s.jsx)("p",{className:"m-0 text-slate-700 text-sm font-medium dark:text-slate-200",children:e})]})}},72788:function(e,n,t){"use strict";t.d(n,{L:function(){return o}});var s=t(85893),a=t(97903),r=t(77929),l=t(87308);function o(e){return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.Dx,{children:e.layoutProps.meta.metaTitle||e.layoutProps.meta.title}),(0,s.jsx)(a.C,{nav:l.u,...e})]})}o.nav=l.u},49808:function(e,n,t){"use strict";t.d(n,{O:function(){return A}});var s,a=t(67294),r=t(12351),l=t(19946),o=t(32984),i=t(61363),c=t(84575),u=t(16723),d=t(23784),p=t(14157),f=t(3855),x=t(46045);function h({onFocus:e}){let[n,t]=(0,a.useState)(!0);return n?a.createElement(x._,{as:"button",type:"button",features:x.A.Focusable,onFocus:n=>{n.preventDefault();let s,a=50;s=requestAnimationFrame(function n(){if(a--<=0){s&&cancelAnimationFrame(s);return}if(e()){t(!1),cancelAnimationFrame(s);return}s=requestAnimationFrame(n)})}}):null}var m=t(73781),b=t(81021),g=((s=g||{})[s.SetSelectedIndex=0]="SetSelectedIndex",s[s.RegisterTab=1]="RegisterTab",s[s.UnregisterTab=2]="UnregisterTab",s[s.RegisterPanel=3]="RegisterPanel",s[s.UnregisterPanel=4]="UnregisterPanel",s);let v={0(e,n){let t=e.tabs.filter(e=>{var n;return!(null!=(n=e.current)&&n.hasAttribute("disabled"))});if(n.index<0)return{...e,selectedIndex:e.tabs.indexOf(t[0])};if(n.index>e.tabs.length)return{...e,selectedIndex:e.tabs.indexOf(t[t.length-1])};let s=e.tabs.slice(0,n.index),a=[...e.tabs.slice(n.index),...s].find(e=>t.includes(e));return a?{...e,selectedIndex:e.tabs.indexOf(a)}:e},1(e,n){var t;if(e.tabs.includes(n.tab))return e;let s=e.tabs[e.selectedIndex],a=(0,c.z2)([...e.tabs,n.tab],e=>e.current),r=null!=(t=a.indexOf(s))?t:e.selectedIndex;return -1===r&&(r=e.selectedIndex),{...e,tabs:a,selectedIndex:r}},2:(e,n)=>({...e,tabs:e.tabs.filter(e=>e!==n.tab)}),3:(e,n)=>e.panels.includes(n.panel)?e:{...e,panels:(0,c.z2)([...e.panels,n.panel],e=>e.current)},4:(e,n)=>({...e,panels:e.panels.filter(e=>e!==n.panel)})},k=(0,a.createContext)(null);function y(e){let n=(0,a.useContext)(k);if(null===n){let n=Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,y),n}return n}k.displayName="TabsSSRContext";let j=(0,a.createContext)(null);function S(e){let n=(0,a.useContext)(j);if(null===n){let n=Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,S),n}return n}j.displayName="TabsDataContext";let w=(0,a.createContext)(null);function T(e){let n=(0,a.useContext)(w);if(null===n){let n=Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,T),n}return n}function C(e,n){return(0,o.E)(n.type,v,e,n)}w.displayName="TabsActionsContext";let N=a.Fragment,P=(0,r.yV)(function(e,n){let{defaultIndex:t=0,vertical:s=!1,manual:l=!1,onChange:o,selectedIndex:i=null,...c}=e,p=s?"vertical":"horizontal",x=l?"manual":"auto",m=null!==i,b=(0,d.T)(n),[g,v]=(0,a.useReducer)(C,{selectedIndex:null!=i?i:t,tabs:[],panels:[]}),y=(0,a.useMemo)(()=>({selectedIndex:g.selectedIndex}),[g.selectedIndex]),S=(0,f.E)(o||(()=>{})),T=(0,f.E)(g.tabs),P=(0,a.useMemo)(()=>({orientation:p,activation:x,...g}),[p,x,g]),I=(0,f.E)(m?e.selectedIndex:g.selectedIndex),E=(0,a.useMemo)(()=>({registerTab:e=>(v({type:1,tab:e}),()=>v({type:2,tab:e})),registerPanel:e=>(v({type:3,panel:e}),()=>v({type:4,panel:e})),change(e){I.current!==e&&S.current(e),m||v({type:0,index:e})}}),[v,m]);(0,u.e)(()=>{v({type:0,index:null!=i?i:t})},[i]);let O=(0,a.useRef)({tabs:[],panels:[]});return a.createElement(k.Provider,{value:O},a.createElement(w.Provider,{value:E},a.createElement(j.Provider,{value:P},P.tabs.length<=0&&a.createElement(h,{onFocus:()=>{var e,n;for(let t of T.current)if((null==(e=t.current)?void 0:e.tabIndex)===0)return null==(n=t.current)||n.focus(),!0;return!1}}),(0,r.sY)({ourProps:{ref:b},theirProps:c,slot:y,defaultTag:N,name:"Tabs"}))))}),I=(0,r.yV)(function(e,n){let{orientation:t,selectedIndex:s}=S("Tab.List"),a=(0,d.T)(n);return(0,r.sY)({ourProps:{ref:a,role:"tablist","aria-orientation":t},theirProps:e,slot:{selectedIndex:s},defaultTag:"div",name:"Tabs.List"})}),E=(0,r.yV)(function(e,n){var t,s;let f=`headlessui-tabs-tab-${(0,l.M)()}`,{orientation:x,activation:h,selectedIndex:g,tabs:v,panels:k}=S("Tab"),j=T("Tab"),w=y("Tab"),C=(0,a.useRef)(null),N=(0,d.T)(C,n);(0,u.e)(()=>j.registerTab(C),[j,C]);let P=w.current.tabs.indexOf(f);-1===P&&(P=w.current.tabs.push(f)-1);let I=v.indexOf(C);-1===I&&(I=P);let E=I===g,O=(0,m.z)(e=>{let n=v.map(e=>e.current).filter(Boolean);if(e.key===i.R.Space||e.key===i.R.Enter){e.preventDefault(),e.stopPropagation(),j.change(I);return}switch(e.key){case i.R.Home:case i.R.PageUp:return e.preventDefault(),e.stopPropagation(),(0,c.jA)(n,c.TO.First);case i.R.End:case i.R.PageDown:return e.preventDefault(),e.stopPropagation(),(0,c.jA)(n,c.TO.Last)}if((0,o.E)(x,{vertical:()=>e.key===i.R.ArrowUp?(0,c.jA)(n,c.TO.Previous|c.TO.WrapAround):e.key===i.R.ArrowDown?(0,c.jA)(n,c.TO.Next|c.TO.WrapAround):void 0,horizontal:()=>e.key===i.R.ArrowLeft?(0,c.jA)(n,c.TO.Previous|c.TO.WrapAround):e.key===i.R.ArrowRight?(0,c.jA)(n,c.TO.Next|c.TO.WrapAround):void 0}))return e.preventDefault()}),R=(0,m.z)(()=>{var e;null==(e=C.current)||e.focus()}),A=(0,a.useRef)(!1),L=(0,m.z)(()=>{var e;A.current||(A.current=!0,null==(e=C.current)||e.focus(),j.change(I),(0,b.Y)(()=>{A.current=!1}))}),_=(0,m.z)(e=>{e.preventDefault()}),M=(0,a.useMemo)(()=>({selected:E}),[E]),z={ref:N,onKeyDown:O,onFocus:"manual"===h?R:L,onMouseDown:_,onClick:L,id:f,role:"tab",type:(0,p.f)(e,C),"aria-controls":null==(s=null==(t=k[I])?void 0:t.current)?void 0:s.id,"aria-selected":E,tabIndex:E?0:-1};return(0,r.sY)({ourProps:z,theirProps:e,slot:M,defaultTag:"button",name:"Tabs.Tab"})}),O=(0,r.yV)(function(e,n){let{selectedIndex:t}=S("Tab.Panels"),s=(0,d.T)(n),l=(0,a.useMemo)(()=>({selectedIndex:t}),[t]);return(0,r.sY)({ourProps:{ref:s},theirProps:e,slot:l,defaultTag:"div",name:"Tabs.Panels"})}),R=r.AN.RenderStrategy|r.AN.Static,A=Object.assign(E,{Group:P,List:I,Panels:O,Panel:(0,r.yV)(function(e,n){var t,s,o,i;let{selectedIndex:c,tabs:p,panels:f}=S("Tab.Panel"),h=T("Tab.Panel"),m=y("Tab.Panel"),b=`headlessui-tabs-panel-${(0,l.M)()}`,g=(0,a.useRef)(null),v=(0,d.T)(g,n);(0,u.e)(()=>h.registerPanel(g),[h,g]);let k=m.current.panels.indexOf(b);-1===k&&(k=m.current.panels.push(b)-1);let j=f.indexOf(g);-1===j&&(j=k);let w=j===c,C=(0,a.useMemo)(()=>({selected:w}),[w]),N={ref:v,id:b,role:"tabpanel","aria-labelledby":null==(s=null==(t=p[j])?void 0:t.current)?void 0:s.id,tabIndex:w?0:-1};return w||null!=(o=e.unmount)&&!o||null!=(i=e.static)&&i?(0,r.sY)({ourProps:N,theirProps:e,slot:C,defaultTag:"div",features:R,visible:w,name:"Tabs.Panel"}):a.createElement(x._,{as:"span",...N})})})},11151:function(e,n,t){"use strict";t.d(n,{Zo:function(){return o},ah:function(){return r}});var s=t(67294);let a=s.createContext({});function r(e){let n=s.useContext(a);return s.useMemo(()=>"function"==typeof e?e(n):{...n,...e},[n,e])}let l={};function o({components:e,children:n,disableParentContext:t}){let o;return o=t?"function"==typeof e?e({}):e||l:r(e),s.createElement(a.Provider,{value:o},n)}}},function(e){e.O(0,[3430,7996,9495,224,7308,9994,2642,9774,2888,179],function(){return e(e.s=52863)}),_N_E=e.O()}]);